# HTTP1.0 HTTP1.1 HTTP2

HTTP 프로토콜은 웹 상에서 클라이언트와 서버가 통신하기 위한 대표적인 프로토콜이다.
Connectionless와 Stateless의 특징을 갖고 HTTP 프로토콜을 개선하기 위해 다양한 노력이 이루어져 왔다.
HTTP1.0 HTTP1.1 HTTP2의 차이을 비교해보며 개선된 사항을 알아보자.

## HTTP1.0과 HTTP 1.1
두 프로토콜의 차이는 다음과 같다.
1. 커넥션 유지
  
  기존 HTTP1.0 에서는 각 요청마다 새로운 TCP 커넥션을 생성하였고, 요청에 대한 응답이 완료되면 커넥션을 제거하였다.
  HTTP1.1 에서는 생성된 커넥션을 응답이 완료된 뒤 바로 종료하지 않고, 다른 요청과 응답에도 이용할 수 있다.
2. 호스트 헤더
  HTTP1.1에서는 하나의 IP가 여러개의 도메인을 운영하는 것이 가능해졌고 이를 버츄얼 호스팅이라고 한다.
3. 강력한 인증 절차
  - proxy-authentication
  - proxy-authorization
  
  위 두 개의 헤더가 추가되었고 클라이언트와 서버 사이에 프록시에 대해서도 인증을 요구할 수 있게 되었다.

https://withbundo.blogspot.com/2021/02/http-http-10-http-11.html

이렇게 HTTP1.1을 도입하며 위의 사항들이 개선되었지만 여전히 문제는 존재하였다.

## HTTP 1.1의 한계
1. HOL(Head of Line) Blocking(특정 응답 지연)
  - HTTP 1.1에서 클라이언트의 요청 순서와 서버의 응답 순서는 같아아 한다. 즉 먼저 전송된 요청이 처리되기 전에는 다음 요청에 대한 응답이 이루어 질 수 없다.
2. RTT(Round Trip Time) 증가
  - TCP 커넥션을 유지하여 커넥션 생성에 필요한 비용을 줄였지만, 여전히 하나의 커넥션을 통해 하나의 요청만을 처리할 수 있다. 즉 동시에 다수의 리소스를 처리하는 것이 불가능하다.
3. 무거운 Header
  - HTTP 1.1의 헤더에는 많은 메타정보가 존재하여 매 요청 마다 중복된 헤더 값이 전송되게 된다.
  - 또한 쿠키를 사용하여 헤더의 크기가 더욱 커지게 된다.

## HTTP/2
